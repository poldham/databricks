---
title: "Startup"
author: "Paul Oldham"
date: "19/03/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Start Up With Rstudio Data bricks

Run me first. 
Add packages as needed.

If you want to use Rmarkdown you will be asked to update. So do it on start up. 

```{r}
install.packages("sparklyr")
# add package name that needs the update
```

### Using Git and Github

TBD add instructions from JB and JH on setup github project

Use the URL from github project in New Project > Version Control > github url

Files from the repo will show up. 

When using Git to commit and push to the repo from the RStudio cluster you will be prompted to provide the username and password for the repo. Try opening the Git shell in RStudio

Enter username and password when pushing from the Git shell. 

If you can't use the terminal or git the [documentation FAQs](https://docs.databricks.com/spark/latest/sparkr/rstudio.html) says go to RStudio options and make sure that connect with WebSockets is *not* checked. Use the following. 

-new terminal opens with bash
-Local terminal echo
-Close terminal when shell exits
-Save and restore environment variables
-Process termination = Ask before killing Always

### Notes on persisting work. 

The documentation under FAQs [https://docs.databricks.com/spark/latest/sparkr/rstudio.html](https://docs.databricks.com/spark/latest/sparkr/rstudio.html) says:

>How should I persist my work on RStudio?
We strongly recommend that you persist your work using a version control system from RStudio. RStudio has great support for various version control systems and allows you to check in and manage your projects.

>You can also save your files (code or data) on the Databricks File System - DBFS. For example, if you save a file under /dbfs/ the files will not be deleted when your cluster is terminated or restarted.


